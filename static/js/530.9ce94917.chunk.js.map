{"version":3,"file":"static/js/530.9ce94917.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__hb-lD\",\"form\":\"Movies_form__5L7s0\",\"input\":\"Movies_input__N3yRL\",\"button\":\"Movies_button__q3Y5z\",\"list\":\"Movies_list__pLFBP\",\"listItem\":\"Movies_listItem__YcYJo\"};","import React, { useState, useEffect, lazy, Suspense } from 'react';\nimport { Route, Routes, Link, useSearchParams } from 'react-router-dom';\nimport Axios from 'axios';\nimport styles from './Movies.module.css';\n\nconst MoviesDetails = lazy(() => import('../components/MoviesDetaills'));\nconst Cast = lazy(() => import('../components/Cast'));\nconst Review = lazy(() => import('../components/Review'));\n\nconst Movies = () => {\n  const [keyword, setKeyword] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    const query = searchParams.get('query') || '';\n    setKeyword(query);\n    if (query) {\n      fetchMovies(query);\n    }\n  }, [searchParams]);\n\n  const fetchMovies = async query => {\n    try {\n      const response = await Axios.get(\n        `https://api.themoviedb.org/3/search/movie?api_key=65c8682b0ea793c5f0ab74a2479dcb8c&query=${query}`\n      );\n      setMovies(response.data.results);\n    } catch (err) {\n      console.error('Error fetching movies:', err);\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    setSearchParams({ query: keyword });\n    setKeyword('');\n  };\n\n  return (\n    <div className={styles.container}>\n      <Link to=\"/\">Back to ...</Link>\n      <h1>Movies</h1>\n      <form className={styles.form} onSubmit={handleSubmit}>\n        <input\n          className={styles.input}\n          type=\"text\"\n          placeholder=\"Search movie...\"\n          value={keyword}\n          onChange={e => setKeyword(e.target.value)}\n        />\n        <button className={styles.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n\n      <ul className={styles.list}>\n        {movies.map(movie => (\n          <li className={styles.listItem} key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n\n      <Suspense fallback={<h1>Loading...</h1>}>\n        <Routes>\n          <Route path=\":movieId\" element={<MoviesDetails />}>\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"review\" element={<Review />} />\n          </Route>\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["MoviesDetails","lazy","Cast","Review","_useState","useState","_useState2","_slicedToArray","keyword","setKeyword","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState3","_useState4","movies","setMovies","useEffect","query","get","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","Axios","concat","sent","data","results","t0","console","error","stop","_x","apply","arguments","_jsxs","className","styles","children","_jsx","Link","to","onSubmit","event","preventDefault","type","placeholder","value","onChange","e","target","map","movie","id","title","Suspense","fallback","Routes","Route","path","element"],"sourceRoot":""}